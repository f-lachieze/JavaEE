package org.example.ProjetJavaEE.Ex.modele;

import jakarta.persistence.Embeddable;
import java.io.Serializable;
import java.util.Objects;

@Embeddable
public class ExploiteId implements Serializable {

    // Correspond à la clé primaire de Composante
    private String team;

    // Correspond à la clé primaire de Batiment
    private String building;

    // Constructeur par défaut (obligatoire pour JPA)
    public ExploiteId() {}

    // Constructeur d'initialisation
    public ExploiteId(String team, String building) {
        this.team = team;
        this.building = building;
    }

    // --- Getters et Setters ---

    public String getTeam() {
        return team;
    }

    public void setTeam(String team) {
        this.team = team;
    }

    public String getBuilding() {
        return building;
    }

    public void setBuilding(String building) {
        this.building = building;
    }

    // --- Méthodes Clés (Obligatoires pour la Clé Composée) ---

    // JPA/Hibernate exige l'implémentation correcte de equals() et hashCode()
    // pour que la clé composée fonctionne.

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        ExploiteId that = (ExploiteId) o;
        return Objects.equals(team, that.team) &&
                Objects.equals(building, that.building);
    }

    @Override
    public int hashCode() {
        return Objects.hash(team, building);
    }
}