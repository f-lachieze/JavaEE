# =========================================================
# 1. Configuration du Serveur Web
# =========================================================
# On change le port par défaut pour éviter le conflit avec phpMyAdmin
server.port=8081


# =========================================================
# 2. Configuration de la Source de Données (JDBC)
# =========================================================

# URL de connexion :
# Nous ajoutons 'allowPublicKeyRetrieval=true' pour corriger l'erreur de sécurité MySQL.
spring.datasource.url=jdbc:mysql://localhost:3306/hai925i?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true

# Identifiants (doivent correspondre à votre configuration docker-compose)
spring.datasource.username=root
spring.datasource.password=1234


# =========================================================
# 3. Configuration de JPA (Hibernate)
# =========================================================

# Stratégie de création de schéma. 'update' est parfait pour le développement.
spring.jpa.hibernate.ddl-auto=update


# Activation de l'initialisation de la base de données via les scripts data.sql et schema.sql
spring.sql.init.mode=never

# Affiche les requêtes SQL générées par Hibernate dans la console.
spring.jpa.show-sql=true

# La ligne ci-dessous n'est plus nécessaire. Spring Boot détecte automatiquement le dialecte.
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect


# =========================================================
# 4. Configuration du Logger (facultatif mais utile)
# =========================================================

# Affiche les requêtes SQL avec les valeurs des paramètres pour un meilleur débogage.
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.orm.jdbc.bind=TRACE