<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Modifier le Bâtiment ' + ${batiment.codeB}">Modifier le Bâtiment</title>
    <style>
        div { margin-bottom: 15px; }
        label { display: inline-block; width: 150px; }
        .error { color: red; }
    </style>
</head>
<body>
<a th:href="@{/campus/list}">Annuler et Retour à la liste des Campus</a>

<h2 th:text="'Modifier le Bâtiment ' + ${batiment.codeB}">Modifier un Bâtiment Existant</h2>

<form th:action="@{/batiment/save}" th:object="${batiment}" method="post">

    <p class="error" th:if="${errorMessage}" th:text="${errorMessage}">Erreur générique.</p>

    <div>
        <label for="codeB">Code Bâtiment (Clé) :</label>
        <input type="text" id="codeB" th:field="*{codeB}" required
               readonly
               style="background-color: #e9ecef; cursor: not-allowed;"
               title="La clé du bâtiment ne peut pas être modifiée.">
    </div>

    <div>
        <label for="anneeConstruction">Année de Construction :</label>
        <input type="number" id="anneeConstruction" th:field="*{anneeConstruction}" min="1900" max="2050" required>
    </div>

    <div>
        <label for="campus">Campus Parent :</label>
        <select id="campus" th:field="*{campus}" required>
            <option value="">-- Choisir le Campus --</option>
            <option th:each="campusOption : ${allCampus}"
                    th:value="${campusOption.nomC}"
                    th:text="${campusOption.nomC} + ' (' + ${campusOption.ville} + ')'">Campus Name</option>
        </select>
    </div>

    <button type="submit">Enregistrer les Modifications</button>
</form>
</body>
</html>